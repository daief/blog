<template>
  <div>
    <%- include('./cmn/articles.ejs', { articles }) %>

    <Pagination
      :current="<%= current %>"
      :total="<%= total %>"
      pattern="/page/:page"
    />
  </div>
</template>

<script setup lang="ts">
  import Markdown from '@app/components/markdown.vue';
  import PostMetaInfo from '@app/components/post/meta-info.vue';
  import Pagination from '@app/components/pagination.vue';
  import ALink from '@app/components/a-link.vue';
  import { usePageTitle } from '@app/composables/use-page-title';

  defineOptions({
    name: 'Articles',
  });

  usePageTitle({
    title: `第 <%= current %> 页`,
  });

  const metaMap = JSON.parse(
    '<%- JSON.stringify(Object.fromEntries(articles.map((article) => [article.frontmatter.id, { ...article.frontmatter, isDraft: article.isDraft }]))) %>',
  );
</script>
