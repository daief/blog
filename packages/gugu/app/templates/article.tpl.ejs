<template>
  <article>
    <header>
      <h1 class="text-foreground text-3xl font-bold mb-4">
        <%- article.frontmatter.title %>
      </h1>

      <PostMetaInfo :meta="meta" />
    </header>
    <Markdown class="mt-6">
      <%- article.excerpt %>
      <a href="#more" class="hidden"></a>
      <%- article.more %>
    </Markdown>
  </article>
</template>

<script setup lang="ts">
  import Markdown from '@app/components/markdown.vue';
  import PostMetaInfo from '@app/components/post/meta-info.vue';

  defineOptions({
    name: 'Article',
  });

  const meta = JSON.parse(
    '<%- JSON.stringify({ isDraft: article.isDraft, ...article.frontmatter }) %>',
  );
</script>
