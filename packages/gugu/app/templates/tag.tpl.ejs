<!-- 标签分页 -->
<template>
  <div>
    <h1 class="text-foreground text-2xl font-semibold mb-6 sm:text-3xl">
      标签：<%- tag %>
    </h1>

    <%- include('./cmn/articles.ejs', { articles }) %>

    <Pagination
      :current="<%= current %>"
      :total="<%= total %>"
      pattern="/tags/<%- tag %>/:page"
    />
  </div>
</template>

<script setup lang="ts">
  import Markdown from '@app/components/markdown.vue';
  import PostMetaInfo from '@app/components/post/meta-info.vue';
  import Pagination from '@app/components/pagination.vue';
  import ALink from '@app/components/a-link.vue';

  defineOptions({
    name: 'Articles',
  });

  const metaMap = JSON.parse(
    '<%- JSON.stringify(Object.fromEntries(articles.map((article) => [article.frontmatter.id, { ...article.frontmatter, isDraft: article.isDraft }]))) %>',
  );
</script>
